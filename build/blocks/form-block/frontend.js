(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".feedback-form");if("undefined"!=typeof CustomFormReviewUser&&null!==CustomFormReviewUser&&Object.keys(CustomFormReviewUser).length>0&&e){const t=e.querySelector('input[name="first_name"]'),r=e.querySelector('input[name="last_name"]'),n=e.querySelector('input[name="email"]');t&&(t.value=CustomFormReviewUser.firstName||""),r&&(r.value=CustomFormReviewUser.lastName||""),n&&(n.value=CustomFormReviewUser.email||"")}e&&e.addEventListener("submit",(t=>{t.preventDefault();const r=document.querySelector(".feedback-error");r&&r.parentNode.removeChild(r);const n=new FormData(e);n.append("action","submit_feedback"),n.append("nonce",FeedbackAjax.nonce),fetch(FeedbackAjax.ajax_url,{method:"POST",credentials:"same-origin",body:n}).then((e=>e.json())).then((t=>{if(t.success)e.outerHTML=`<p>${t.data.message}</p>`;else{const r=document.createElement("p");r.className="feedback-error",r.textContent=t.data.message,e.parentNode.insertBefore(r,e.nextSibling)}})).catch((e=>console.error("Error:",e)))}))}))})();